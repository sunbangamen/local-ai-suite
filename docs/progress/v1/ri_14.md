# Issue #28 êµ¬í˜„ ê³„íšì„œ

**ë‚ ì§œ**: 2025-10-20
**ì´ìŠˆ**: [Release] v1.5.0 - Phase 4 ì™„ì„± ë° ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ë¦´ë¦¬ìŠ¤ ì¤€ë¹„
**ì‘ì„±ì**: Claude Code
**ìƒíƒœ**: ê³„íš ìˆ˜ë¦½ ì™„ë£Œ

---

## ğŸ“‹ Issue Analysis & Solution Planning

### Issue Information Summary

**ì´ìŠˆ ë²ˆí˜¸**: #28
**ì œëª©**: [Release] v1.5.0 - Phase 4 ì™„ì„± ë° ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ë¦´ë¦¬ìŠ¤ ì¤€ë¹„
**ìƒíƒœ**: OPEN
**ìƒì„±ì¼**: 2025-10-20T05:29:46Z
**ë‹´ë‹¹ì**: ì—†ìŒ
**ë¼ë²¨**: ì—†ìŒ
**ë§ˆì¼ìŠ¤í†¤**: ì—†ìŒ

**ë¬¸ì œ ìœ í˜•**: Release Management
**ìš°ì„ ìˆœìœ„**: High
**ë³µì¡ë„**: Medium

---

## í•µì‹¬ ìš”êµ¬ì‚¬í•­

### **ë°°ê²½**
Issue #26 (ë³´ì•ˆ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ì‚¬ìš©ì ê²½í—˜ ì™„ì„±)ì´ PR #27ì„ í†µí•´ ë¨¸ì§€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. Phase 4 ì™„ì„± ë° v1.5.0 ë¦´ë¦¬ìŠ¤ë¥¼ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.

### **ì£¼ìš” êµ¬í˜„ ì‚¬í•­ (Issue #26, PR #27)**
1. âœ… **CLI UX í†µí•©** (`scripts/ai.py` +160ì¤„)
   - Rich ê¸°ë°˜ ì§„í–‰ë¥  ë°” ë° í´ë°± ë©”ì»¤ë‹ˆì¦˜
   - 403 ì‘ë‹µ ê°ì§€ ë° ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ ì‹œê°í™”
   - ìë™ ì¬ì‹œë„ ë° ì„±ê³µ/ê±°ë¶€ ë©”ì‹œì§€ ì¶œë ¥

2. âœ… **ë³´ì•ˆ ê´€ë¦¬ì API** (`services/mcp-server/security_admin.py` +260ì¤„)
   - GET `/api/approvals/pending`: í•„í„°/í˜ì´ì§• ì§€ì›
   - POST `/api/approvals/{id}/approve`: ë©±ë“±ì„±, 409 ì¤‘ë³µ ì²˜ë¦¬
   - POST `/api/approvals/{id}/reject`: ë©±ë“±ì„±
   - GET `/api/approvals/{id}/status`: ì‹¤ì‹œê°„ ìºì‹± ì—†ìŒ

3. âœ… **CI/CD í†µí•©** (`.github/workflows/ci.yml` +63ì¤„)
   - approval-tests job ì¶”ê°€
   - pytest, aiosqlite, rich ì˜ì¡´ì„± ì„¤ì¹˜
   - test_approval_workflow.py ì‹¤í–‰
   - ì»¤ë²„ë¦¬ì§€ ë³´ê³ ì„œ ìƒì„±

4. âœ… **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬** (Phase 5)
   - SQLite WAL ëª¨ë“œ 60ì´ˆ / 50 RPS í…ŒìŠ¤íŠ¸ í†µê³¼
   - ì´ 3,000ê±´ ìš”ì²­, ì„±ê³µë¥  100%, P95 397ms
   - ì‚°ì¶œë¬¼: `docs/benchmarks/approval_workflow_phase5.md`, `data/approval_benchmark.csv`

5. âœ… **ìš´ì˜ ì •ì±… ë¬¸ì„œ** (`docs/security/APPROVAL_POLICY.md` ~400ì¤„)
   - í™˜ê²½ë³„ feature flag ì„¤ì • (Dev/Staging/Production)
   - ë°°í¬ ì ˆì°¨ ë° ë¡¤ë°± ë°©ë²•
   - ìš´ì˜ ê¶Œì¥ì¹˜ ì—…ë°ì´íŠ¸

### **í•´ê²° ëª©í‘œ (Issue #28)**
1. âœ… **Phase 0**: ìŠ¹ì¸ UX ì‚¬ì „ ì¡°ê±´ ê²€ì¦ (ë¯¸ë“¤ì›¨ì–´ 403 ì‘ë‹µ, CLI UX)
2. â³ **Phase 1**: ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° íšŒê·€ ê²€ì¦ (144ê°œ Python + 22ê°œ E2E)
3. â³ **Phase 2**: CHANGELOG.md ì‘ì„± ë° ë¬¸ì„œ ë™ê¸°í™”
4. â³ **Phase 3**: Git íƒœê·¸ ë° GitHub Release ìƒì„±

---

## Technical Investigation

### ì½”ë“œë² ì´ìŠ¤ í˜„í™© ë¶„ì„

#### âœ… **ì™„ë£Œëœ Issue #26 êµ¬í˜„**

1. **CLI Integration** (`scripts/ai.py`)
   - ë¼ì¸ 178-323: ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ì²˜ë¦¬ ë¡œì§ ì™„ë£Œ
   - `handle_approval_workflow()`: Rich ê¸°ë°˜ ì§„í–‰ë¥  ë°” (214-280ì¤„)
   - `wait_for_approval_simple()`: í´ë°± ë©”ì»¤ë‹ˆì¦˜ (282-323ì¤„)
   - í™˜ê²½ ë³€ìˆ˜: `APPROVAL_TIMEOUT`, `APPROVAL_POLLING_INTERVAL`

2. **Middleware** (`services/mcp-server/rbac_middleware.py`)
   - ë¼ì¸ 71-122: ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ìë™ í†µí•© ì™„ë£Œ
   - 403 ì‘ë‹µ êµ¬ì¡°: `approval_required`, `request_id`, `detail` í¬í•¨
   - Request body ë³µì› ë¡œì§ (85-88ì¤„)

3. **Dependencies** (`scripts/requirements.txt`)
   - Rich >= 13.0.0 ì¶”ê°€ ì™„ë£Œ
   - Requests >= 2.28.0 ìœ ì§€

4. **Test Coverage**
   - **ì´ 144ê°œ Python í…ŒìŠ¤íŠ¸** (scripts/count_tests.py ê¸°ì¤€)
     - RAG: 49 tests
     - Embedding: 18 tests
     - API Gateway: 15 tests
     - MCP Server: 47 tests (ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° 8ê°œ í¬í•¨)
     - Memory: 7 tests
     - Other: 8 tests
   - **ì´ 22ê°œ E2E í…ŒìŠ¤íŠ¸** (Playwright, êµ¬í˜„ ì™„ë£Œ ìƒíƒœ)

5. **Performance Benchmarks**
   - SQLite WAL ëª¨ë“œ: 50 RPS, P95 397ms, ì„±ê³µë¥  100%
   - ì‚°ì¶œë¬¼: `docs/benchmarks/approval_workflow_phase5.md`

#### ğŸ“‹ **ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ ìƒíƒœ**

**ì™„ë£Œëœ ì‘ì—…**:
- âœ… Issue #26 êµ¬í˜„ ì™„ë£Œ ë° PR #27 ë¨¸ì§€
- âœ… ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° CLI/API í†µí•©
- âœ… CI/CD ìë™ ê²€ì¦ íŒŒì´í”„ë¼ì¸
- âœ… ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ ë° ë¬¸ì„œí™”
- âœ… ìš´ì˜ ì •ì±… ë¬¸ì„œí™”

**í•„ìš”í•œ ì‘ì—…**:
- â³ Phase 0: ìŠ¹ì¸ UX ì‚¬ì „ ì¡°ê±´ ì¬ê²€ì¦ (íšŒê·€ ë°©ì§€)
- â³ Phase 1: ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (pytest -q 144ê°œ)
- â³ Phase 2: CHANGELOG.md ì‘ì„±
- â³ Phase 3: v1.5.0 ë¦´ë¦¬ìŠ¤ (Git íƒœê·¸ + GitHub Release)

---

### ë¬¸ì„œ ì •í•©ì„± ì´ìŠˆ ë° í•´ê²°ì±… (Phase 1 ì˜í–¥)

ìµœê·¼ ë¦¬ë·°ì—ì„œ `docs/progress/v1/ri_1.md` ë¬¸ì„œê°€ í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ì™€ ë¶ˆì¼ì¹˜í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. Phase 1 ë ˆí¼ëŸ°ìŠ¤ ë¬¸ì„œëŠ” Phase 4 ë¦´ë¦¬ìŠ¤ì—ë„ ì§€ì† í™œìš©ë˜ë¯€ë¡œ, ë‹¤ìŒ ë³´ì™„ ì‘ì—…ì„ Issue #28 ë²”ìœ„ì— í¬í•¨í•©ë‹ˆë‹¤.

- **`docs/progress/v1/ri_1.md:3` â€“ ì˜ëª»ëœ ëª…ë ¹ ì•ˆë‚´**
  - ë¬¸ì œ: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” `resolve-issue 1` CLI í˜¸ì¶œì„ ì•ˆë‚´í•˜ê³  ìˆìŠµë‹ˆë‹¤.
  - í•´ê²°ì±…: í•´ë‹¹ ë¬¸êµ¬ë¥¼ ì‚­ì œí•˜ê³ , ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ì‹œë‚˜ë¦¬ì˜¤ì— ë§ì¶° `scripts/ai.py` ë˜ëŠ” `scripts/approval_cli.py` ì‚¬ìš© ì˜ˆì‹œë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤. ì˜ˆ) `python scripts/ai.py --mcp approvals:list`.

- **`docs/progress/v1/ri_1.md:119` â€“ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë””ë ‰í„°ë¦¬ ì¬ìƒì„± ì§€ì‹œ**
  - ë¬¸ì œ: `docker/`, `services/api-gateway/` ë””ë ‰í„°ë¦¬ë¥¼ ìƒˆë¡œ ë§Œë“¤ë¼ê³  ì•ˆë‚´í•˜ì§€ë§Œ ì €ì¥ì†Œì— ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤.
  - í•´ê²°ì±…: ë””ë ‰í„°ë¦¬ ìƒì„± ë‹¨ê³„ëŠ” ì‚­ì œí•˜ê³ , í•„ìš” ì‹œ í•´ë‹¹ ê²½ë¡œì—ì„œ íŒŒì¼ì„ ê²€í† Â·ìˆ˜ì •í•˜ëŠ” ì ˆì°¨ë¡œ êµì²´í•©ë‹ˆë‹¤. ì˜ˆ) â€œ`services/api-gateway/config.p1.yaml` ë‚´ìš©ì„ í™•ì¸ í›„ Phase 1 ì„¤ì •ê°’ê³¼ ì¼ì¹˜í•˜ë„ë¡ ì¡°ì •â€.

- **`docs/progress/v1/ri_1.md:253` â€“ Compose ì˜ˆì‹œì™€ ì‹¤ êµ¬í˜„ ë¶ˆì¼ì¹˜**
  - ë¬¸ì œ: ë¬¸ì„œ ìƒ ìƒ˜í”Œ Composeê°€ ì‹¤ì œ `docker/compose.p1.yml`ê³¼ ìƒì¶©í•˜ë©°, ìƒëŒ€ ê²½ë¡œ(`../services/...`) ë•Œë¬¸ì— ë£¨íŠ¸ì—ì„œ `docker compose` ì‹¤í–‰ ì‹œ ì‹¤íŒ¨í•©ë‹ˆë‹¤.
  - í•´ê²°ì±…: ë¬¸ì„œì˜ Compose ì˜ˆì‹œëŠ” ì‚­ì œí•˜ê±°ë‚˜ â€œê¸°ì¡´ `docker/compose.p1.yml`ì„ ê¸°ì¤€ìœ¼ë¡œ GPU/ëª¨ë¸ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°ì •â€ ë‹¨ê³„ë¡œ êµì²´í•©ë‹ˆë‹¤. í•„ìš” ì‹œ ìˆ˜ì • í¬ì¸íŠ¸ë¥¼ í‘œ í˜•íƒœ(ì˜ˆ: `CHAT_GGUF â†’ CHAT_MODEL`)ë¡œ ëª…ì‹œí•©ë‹ˆë‹¤.

- **`docs/progress/v1/ri_1.md:69` â€“ ì¡´ì¬í•˜ëŠ” íŒŒì¼ì„ Missing Filesë¡œ í‘œê¸°**
  - ë¬¸ì œ: `docker/compose.p1.yml`, `services/api-gateway/config.p1.yaml`ì´ ì¡´ì¬í•˜ëŠ”ë°ë„ ë¯¸ì¡´ì¬ë¡œ ì„œìˆ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
  - í•´ê²°ì±…: â€œí•„ìˆ˜ íŒŒì¼ ëª©ë¡â€ ì„¹ì…˜ìœ¼ë¡œ ë°”ê¾¸ê³ , ì‹¤ì œ ê²½ë¡œì™€ ê²€í†  í¬ì¸íŠ¸(í¬íŠ¸, ëª¨ë¸ ê²½ë¡œ, GPU ì„¤ì • ë“±)ë¥¼ ë‚˜ì—´í•©ë‹ˆë‹¤.

> **Action Item**: Phase 2 ë¬¸ì„œ ì‘ì—… ì‹œ `docs/progress/v1/ri_1.md`ë¥¼ ìœ„ ì§€ì¹¨ëŒ€ë¡œ ì •ë¦¬í•˜ê³  PRì— í¬í•¨í•©ë‹ˆë‹¤. ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ì—ë„ â€œPhase 1 ê³„íš ë¬¸ì„œ ì •í•©ì„± ë³´ì •â€ í•­ëª©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

**ë‹¤ìŒ ë‹¨ê³„**
- `docs/progress/v1/ri_1.md`ë¥¼ í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ë³´ì •í•˜ê³ , í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
- CHANGELOGì— â€œPhase 1 ê³„íš ë¬¸ì„œ ì •í•©ì„± ë³´ì •â€ í•­ëª©ì„ ì¶”ê°€í•´ ë¦´ë¦¬ìŠ¤ ë©”ëª¨ì™€ ë™ê¸°í™”í•œë‹¤.

---

## Solution Strategy

### Approach: ë‹¨ê³„ì  ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ (4 Phases)

**ì„ íƒ ê·¼ê±°**:
- Issue #26 êµ¬í˜„ì´ ì™„ë£Œë˜ì–´ ì¶”ê°€ ì½”ë“œ ì‘ì—… ë¶ˆí•„ìš”
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ë¬¸ì„œí™”ì— ì§‘ì¤‘
- ì•ˆì •ì ì¸ ë¦´ë¦¬ìŠ¤ë¥¼ ìœ„í•œ íšŒê·€ ê²€ì¦ í•„ìˆ˜
- CLAUDE.md, README.md ë“± ë¬¸ì„œ ë™ê¸°í™” ì¤‘ìš”

**ì˜ˆìƒ ì‹œê°„**: 3-4ì‹œê°„
**ìœ„í—˜ë„**: Low (ì½”ë“œ ë³€ê²½ ì—†ìŒ, ê²€ì¦ ì¤‘ì‹¬)

**ì¥ì **:
- âœ… ì½”ë“œ ë™ê²° ìƒíƒœì—ì„œ ì•ˆì „í•œ ë¦´ë¦¬ìŠ¤
- âœ… ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ìœ¼ë¡œ íšŒê·€ ë°©ì§€
- âœ… CHANGELOGë¡œ ë³€ê²½ì‚¬í•­ ì¶”ì  ê°€ëŠ¥
- âœ… GitHub Releaseë¡œ ê³µì‹ ë¦´ë¦¬ìŠ¤ ê´€ë¦¬

**ë‹¨ì **:
- âš ï¸ ë¬¸ì„œ ì‘ì—…ì— 1-2ì‹œê°„ ì†Œìš”
- âš ï¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ (144ê°œ í…ŒìŠ¤íŠ¸)

---

## Detailed Implementation Plan

### Phase 0: ìŠ¹ì¸ UX ì‚¬ì „ ì¡°ê±´ ê²€ì¦ (30ë¶„)

**ëª©í‘œ**: Issue #26 êµ¬í˜„ ìƒíƒœ ìµœì¢… í™•ì¸ ë° íšŒê·€ ë°©ì§€

| Task | Description | DoD | Risk |
|------|-------------|-----|------|
| ë¯¸ë“¤ì›¨ì–´ 403 ì‘ë‹µ êµ¬ì¡° í™•ì¸ | `rbac_middleware.py` 71-122ì¤„ ê²€ì¦ | `approval_required`, `request_id` í¬í•¨ í™•ì¸ | Low |
| CLI UX Rich ê¸°ë°˜ í™•ì¸ | `scripts/ai.py` 214-280ì¤„ ê²€ì¦ | `handle_approval_workflow()` ì •ìƒ ë™ì‘ | Low |
| CLI í´ë°± ë©”ì»¤ë‹ˆì¦˜ í™•ì¸ | `scripts/ai.py` 282-323ì¤„ ê²€ì¦ | `wait_for_approval_simple()` ì •ìƒ ë™ì‘ | Low |
| ì˜ì¡´ì„± í™•ì¸ | `scripts/requirements.txt` ê²€ì¦ | `rich>=13.0.0` í¬í•¨ í™•ì¸ | Low |

**ê²€ì¦ ëª…ë ¹**:
```bash
# ì½”ë“œ ê²€ì¦
grep -n "approval_required" services/mcp-server/rbac_middleware.py
grep -n "handle_approval_workflow" scripts/ai.py
grep -n "rich" scripts/requirements.txt

# ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° í†µí•© í…ŒìŠ¤íŠ¸ (8ê°œ)
pytest services/mcp-server/tests/test_approval_workflow.py -v
```

---

### Phase 1: ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° íšŒê·€ ê²€ì¦ (60-90ë¶„)

**ëª©í‘œ**: 144ê°œ Python í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° 0 failures í™•ì¸

| Task | Description | DoD | Risk |
|------|-------------|-----|------|
| Python ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ | pytest -q ì‹¤í–‰ (144ê°œ) | 0 failed í™•ì¸ | Medium |
| ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ | test_approval_workflow.py (8ê°œ) | 100% í†µê³¼ | Low |
| RBAC í†µí•© í…ŒìŠ¤íŠ¸ | test_rbac_integration.py (10ê°œ) | 100% í†µê³¼ | Low |
| API Gateway í—¬ìŠ¤ì²´í¬ | curl localhost:8000/health | HTTP 200 ì‘ë‹µ | Low |
| RAG ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬ | curl localhost:8002/health | HTTP 200 ì‘ë‹µ | Low |
| MCP ì„œë²„ í—¬ìŠ¤ì²´í¬ | curl localhost:8020/health | HTTP 200 ì‘ë‹µ | Low |
| ìŠ¹ì¸ CLI ìˆ˜ë™ í…ŒìŠ¤íŠ¸ | scripts/approval_cli.py ì‹¤í–‰ | ëŒ€í™”í˜• TUI ì •ìƒ ë™ì‘ | Low |

**í…ŒìŠ¤íŠ¸ ëª…ë ¹**:
```bash
# ì „ì²´ Python í…ŒìŠ¤íŠ¸ (144ê°œ)
pytest -q 2>&1 | tee /tmp/pytest_results.txt

# ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬ (Phase 3 ìŠ¤íƒ ê°€ë™ í•„ìš”)
docker compose -f docker/compose.p3.yml up -d
curl -f http://localhost:8000/health  # API Gateway
curl -f http://localhost:8002/health  # RAG
curl -f http://localhost:8020/health  # MCP Server

# ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° ìˆ˜ë™ í…ŒìŠ¤íŠ¸
# Terminal 1: ìŠ¹ì¸ ê´€ë¦¬ì CLI
python3 services/mcp-server/scripts/approval_cli.py

# Terminal 2: ì‚¬ìš©ì ìš”ì²­ (HIGH ë„êµ¬)
ai --mcp execute_bash --mcp-args '{"command": "ls", "working_dir": "/tmp"}'
```

**ì˜ˆìƒ ê²°ê³¼**:
- âœ… pytest: 144 passed, 0 failed
- âœ… ëª¨ë“  í—¬ìŠ¤ì²´í¬ HTTP 200
- âœ… ìŠ¹ì¸ CLI: Rich TUI ì •ìƒ í‘œì‹œ
- âœ… ì‚¬ìš©ì CLI: ì§„í–‰ë¥  ë°” + ìë™ ì¬ì‹œë„ ë™ì‘

---

### Phase 2: ë¬¸ì„œ ì •í•©ì„± ë³´ì • ë° CHANGELOG.md ì‘ì„± (75ë¶„) â­ **ìš°ì„ ìˆœìœ„ ìµœê³ **

**ëª©í‘œ**:
1. **[ìš°ì„ ] Phase 1 ë¬¸ì„œ ì •í•©ì„± ë³´ì •** (`docs/progress/v1/ri_1.md`)
2. v1.5.0 CHANGELOG.md ì‘ì„±
3. í”„ë¡œì íŠ¸ ë¬¸ì„œ ë™ê¸°í™” (CLAUDE.md, README.md)

**ì‘ì—… ìˆœì„œ**:

#### Phase 2-1: ri_1.md ì •í•©ì„± ë³´ì • (25ë¶„) â­ **ë¨¼ì € ì‹¤í–‰**

| Task | Description | DoD | Risk |
|------|-------------|-----|------|
| ri_1.md:3 ìˆ˜ì • | `resolve-issue 1` ì•ˆë‚´ ì œê±° â†’ `scripts/ai.py` ì‚¬ìš© ì˜ˆì‹œë¡œ ëŒ€ì²´ | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” CLI í˜¸ì¶œ ì œê±° | Low |
| ri_1.md:69 ìˆ˜ì • | Missing Files â†’ "í•„ìˆ˜ íŒŒì¼ ëª©ë¡"ìœ¼ë¡œ ë³€ê²½ | `docker/compose.p1.yml`, `services/api-gateway/config.p1.yaml` ê²½ë¡œ/ê²€í†  í¬ì¸íŠ¸ ëª…ì‹œ | Low |
| ri_1.md:119 ìˆ˜ì • | ë””ë ‰í„°ë¦¬ ìƒì„± ì§€ì‹œ ì œê±° â†’ íŒŒì¼ ê²€í† Â·ìˆ˜ì • ì ˆì°¨ë¡œ êµì²´ | "ë‚´ìš©ì„ í™•ì¸ í›„ Phase 1 ì„¤ì •ê°’ê³¼ ì¼ì¹˜í•˜ë„ë¡ ì¡°ì •" í‘œí˜„ | Low |
| ri_1.md:253 ìˆ˜ì • | Compose ì˜ˆì‹œ ì‚­ì œ â†’ "ê¸°ì¡´ docker/compose.p1.ymlì„ ê¸°ì¤€ìœ¼ë¡œ ì¡°ì •" ë‹¨ê³„ë¡œ êµì²´ | íŒŒë¼ë¯¸í„° ìˆ˜ì • í…Œì´ë¸”(ì˜ˆ: `CHAT_GGUF â†’ CHAT_MODEL`) ëª…ì‹œ | Low |

**ê²€ì¦ ëª…ë ¹**:
```bash
# ri_1.md í™•ì¸
grep -n "resolve-issue 1" docs/progress/v1/ri_1.md  # ì—†ì–´ì•¼ í•¨
grep -n "scripts/ai.py\|scripts/approval_cli.py" docs/progress/v1/ri_1.md  # ì¶”ê°€ë˜ì–´ì•¼ í•¨
```

#### Phase 2-2: CHANGELOG.md ì‘ì„± (35ë¶„)

| Task | Description | DoD | Risk |
|------|-------------|-----|------|
| CHANGELOG.md ìƒì„± | v1.5.0 ì„¹ì…˜ ì¶”ê°€ | ì£¼ìš” ë³€ê²½ì‚¬í•­ 5ê°œ ì´ìƒ ì‘ì„± | Low |
| Issue #26 ì™„ë£Œ ê¸°ë¡ | ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° UX í†µí•© ë‚´ìš© | CLI/API/CI/ë²¤ì¹˜ë§ˆí¬ í¬í•¨ | Low |
| í…ŒìŠ¤íŠ¸ ìˆ˜ëŸ‰ ê¸°ë¡ | 144ê°œ Python + 22ê°œ E2E | ì •í™•í•œ ìˆ˜ëŸ‰ ëª…ì‹œ | Low |
| Breaking Changes í™•ì¸ | í˜¸í™˜ì„± ê²€í†  | ì—†ìœ¼ë©´ "None" ëª…ì‹œ | Low |
| ì‹ ê·œ ì˜ì¡´ì„± ê¸°ë¡ | Rich library ì¶”ê°€ | scripts/requirements.txt ë°˜ì˜ | Low |
| **ri_1.md ì •í•©ì„± ë³´ì • í•­ëª© ì¶”ê°€** | Phase 1 ë¬¸ì„œ ì •í•©ì„± ê°œì„  ê¸°ë¡ | "Documentation: Fixed Phase 1 planning document inconsistencies" ì¶”ê°€ | Low |

#### Phase 2-3: í”„ë¡œì íŠ¸ ë¬¸ì„œ ë™ê¸°í™” (15ë¶„)

| Task | Description | DoD | Risk |
|------|-------------|-----|------|
| CLAUDE.md ì—…ë°ì´íŠ¸ | Production readiness 100% ë°˜ì˜ | Issue #26 ì™„ë£Œ ìƒíƒœ ë°˜ì˜ | Low |
| README.md ë™ê¸°í™” | í•„ìš” ì‹œ ì—…ë°ì´íŠ¸ | CLAUDE.mdì™€ ì¼ê´€ì„± ìœ ì§€ | Low |

**CHANGELOG.md êµ¬ì¡°**:
```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.5.0] - 2025-10-20

### Added
- **Approval Workflow UX**: Rich-based progress bar for HIGH/CRITICAL tool approval waiting (Issue #26)
- **Security Admin API**: 4 REST endpoints for approval management (pending, approve, reject, status)
- **CI/CD Integration**: Automated approval workflow tests in GitHub Actions
- **Performance Benchmarking**: SQLite WAL mode tested at 50 RPS, P95 397ms, 100% success rate
- **Operational Policy**: APPROVAL_POLICY.md with environment-specific feature flag guide

### Changed
- **CLI Experience**: `scripts/ai.py` now shows real-time approval progress with 1s polling interval
- **Middleware**: `rbac_middleware.py` returns 403 with `approval_required` field for HIGH/CRITICAL tools
- **Dependencies**: Added `rich>=13.0.0` to `scripts/requirements.txt` for terminal UI

### Fixed
- **Approval Timeout Handling**: Graceful degradation to simple progress when Rich unavailable
- **Request Body Restoration**: Fixed middleware body consumption issue for approval flow

### Performance
- **SQLite Approval Workflow**: Achieved 50 RPS (5x target), P95 397ms (20% better than 500ms goal)

### Testing
- **Total Tests**: 144 Python tests + 22 E2E Playwright tests
- **Approval Tests**: 8 new integration tests (granted, rejected, timeout, concurrent, etc.)

### Documentation
- `docs/security/APPROVAL_POLICY.md`: Feature flag policy for Dev/Staging/Production
- `docs/benchmarks/approval_workflow_phase5.md`: Performance benchmark results
- `docs/progress/v1/ri_13.md`: Issue #26 detailed implementation plan
- **`docs/progress/v1/ri_1.md` (Fixed)**: Phase 1 planning document updated for code consistency

### Fixed (Documentation)
- **Phase 1 Document Consistency**: Corrected outdated CLI references, removed non-existent directory creation steps, replaced Compose examples with actual implementation guidance

### Breaking Changes
None

### Dependencies
- Added: `rich>=13.0.0` (terminal UI for approval progress)

---

## [1.4.0] - 2025-10-17
... (previous releases)
```

**ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] CHANGELOG.md ìƒì„± ë° v1.5.0 ì„¹ì…˜ ì‘ì„±
- [ ] CLAUDE.md ì—…ë°ì´íŠ¸ (Issue #26 ì™„ë£Œ ìƒíƒœ ë°˜ì˜)
- [ ] README.md ë™ê¸°í™” í™•ì¸ (í•„ìš” ì‹œ)
- [ ] docs/security/APPROVAL_POLICY.md ë§í¬ í™•ì¸
- [ ] docs/benchmarks/approval_workflow_phase5.md ë§í¬ í™•ì¸

---

### Phase 3: Git íƒœê·¸ ë° GitHub Release ìƒì„± (30-60ë¶„)

**ëª©í‘œ**: v1.5.0 ê³µì‹ ë¦´ë¦¬ìŠ¤ ë° Release Notes ì‘ì„±

| Task | Description | DoD | Risk |
|------|-------------|-----|------|
| ë²„ì „ ë²ˆí˜¸ ê²°ì • | v1.5.0 (Feature Release) | Semantic Versioning ì¤€ìˆ˜ | Low |
| Git annotated tag ìƒì„± | `git tag -a v1.5.0 -m "..."` | íƒœê·¸ ìƒì„± ì™„ë£Œ | Low |
| Git tag push | `git push origin v1.5.0` | ì›ê²© íƒœê·¸ ìƒì„± | Low |
| GitHub Release Notes ì‘ì„± | CHANGELOG.md ê¸°ë°˜ ì‘ì„± | Release í˜ì´ì§€ ì™„ì„± | Medium |
| Release ë°”ì´ë„ˆë¦¬ í™•ì¸ | í•„ìš” ì‹œ ì²¨ë¶€ | ì—†ìœ¼ë©´ ìŠ¤í‚µ | Low |

**Git íƒœê·¸ ëª…ë ¹**:
```bash
# Annotated tag ìƒì„±
git tag -a v1.5.0 -m "Release v1.5.0 - Approval Workflow UX Integration

- Issue #26: Approval workflow UX complete
- CLI: Rich-based progress bar for approval waiting
- API: 4 approval management endpoints
- CI/CD: Automated approval tests
- Performance: 50 RPS, P95 397ms, 100% success
- Docs: APPROVAL_POLICY.md operational guide

Total: 144 Python tests + 22 E2E tests"

# Tag í™•ì¸
git tag -l -n9 v1.5.0

# Remote push
git push origin v1.5.0
```

**GitHub Release Notes êµ¬ì¡°**:
```markdown
# Release v1.5.0 - Approval Workflow UX Integration

**Release Date**: 2025-10-20
**Type**: Feature Release
**Related Issues**: #26, #28

---

## ğŸ‰ Highlights

This release completes the **Approval Workflow UX Integration** (Issue #26), enabling production-ready security controls for HIGH/CRITICAL MCP tools.

### Key Features

1. **âœ¨ Rich Terminal UI for Approval Waiting**
   - Real-time progress bar with 1-second polling
   - Automatic retry after approval granted
   - Graceful fallback for environments without Rich library

2. **ğŸ”§ Security Admin API**
   - `GET /api/approvals/pending`: List pending approvals with filters
   - `POST /api/approvals/{id}/approve`: Approve requests (idempotent)
   - `POST /api/approvals/{id}/reject`: Reject requests (idempotent)
   - `GET /api/approvals/{id}/status`: Check approval status

3. **ğŸš€ CI/CD Integration**
   - Automated approval workflow tests in GitHub Actions
   - 8 new integration tests (approval scenarios)

4. **ğŸ“Š Performance Benchmarking**
   - SQLite WAL mode: **50 RPS** (5x target)
   - P95 latency: **397ms** (20% better than 500ms goal)
   - Success rate: **100%** (3,000 requests)

5. **ğŸ“š Operational Documentation**
   - `APPROVAL_POLICY.md`: Feature flag guide (Dev/Staging/Prod)
   - Performance benchmark results

---

## ğŸ“¦ What's Changed

### Added
- CLI approval progress UI with Rich library (#26)
- Security Admin API (4 endpoints) (#26)
- CI/CD approval tests integration (#26)
- SQLite performance benchmark (#26)
- APPROVAL_POLICY.md operational guide (#26)

### Changed
- `scripts/ai.py`: Real-time approval waiting UX (+160 lines)
- `rbac_middleware.py`: 403 response with `approval_required` field
- `requirements.txt`: Added `rich>=13.0.0`

### Fixed
- Approval timeout graceful handling
- Request body restoration in middleware

---

## ğŸ§ª Testing

- **Total Tests**: 144 Python tests + 22 E2E Playwright tests
- **New Tests**: 8 approval workflow integration tests
- **Test Results**: 100% pass rate

---

## ğŸ“– Documentation

- [APPROVAL_POLICY.md](docs/security/APPROVAL_POLICY.md): Operational policy
- [Benchmark Results](docs/benchmarks/approval_workflow_phase5.md): Performance data
- [Implementation Plan](docs/progress/v1/ri_13.md): Issue #26 details

---

## ğŸ”§ Installation & Upgrade

### New Installation
```bash
git clone https://github.com/sunbangamen/local-ai-suite.git
cd local-ai-suite
git checkout v1.5.0
./install.sh
```

### Upgrade from v1.4.x
```bash
git pull origin main
git checkout v1.5.0
pip install -r scripts/requirements.txt  # Install Rich
docker compose -f docker/compose.p3.yml up -d --build
```

---

## âš™ï¸ Configuration

Enable approval workflow in production:

```bash
# .env
APPROVAL_WORKFLOW_ENABLED=true
RBAC_ENABLED=true
APPROVAL_TIMEOUT=600  # 10 minutes
APPROVAL_POLLING_INTERVAL=1  # 1 second
```

See [APPROVAL_POLICY.md](docs/security/APPROVAL_POLICY.md) for details.

---

## ğŸ› Known Issues

None

---

## ğŸ™ Contributors

- @sunbangamen (Implementation & Testing)
- Claude Code (Code Review & Documentation)

---

**Full Changelog**: https://github.com/sunbangamen/local-ai-suite/compare/v1.4.0...v1.5.0
```

**GitHub Release ìƒì„± ëª…ë ¹**:
```bash
# gh CLI ì‚¬ìš©
gh release create v1.5.0 \
  --title "Release v1.5.0 - Approval Workflow UX Integration" \
  --notes-file /tmp/release_notes.md \
  --draft  # ê²€í†  í›„ ê³µê°œ

# Release í™•ì¸
gh release view v1.5.0

# Draft â†’ Published ì „í™˜
gh release edit v1.5.0 --draft=false
```

---

## Risk Assessment & Mitigation

### High Risk Items

| Risk | Impact | Probability | Mitigation Strategy |
|------|--------|-------------|-------------------|
| í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ë°œê²¬ | High | Low | Phase 1ì—ì„œ ì¡°ê¸° ë°œê²¬, ìˆ˜ì • í›„ ì¬ì‹¤í–‰ |
| ë¬¸ì„œ ëˆ„ë½/ì˜¤ë¥˜ | Medium | Medium | Phase 2ì—ì„œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ì¦ |
| Git íƒœê·¸ ì¶©ëŒ | Low | Low | íƒœê·¸ ìƒì„± ì „ `git tag -l` í™•ì¸ |

### Technical Challenges

**ì˜ˆìƒ ê¸°ìˆ ì  ë‚œì **:
1. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„** - 144ê°œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì— 30-60ë¶„ ì†Œìš” ê°€ëŠ¥
   - **í•´ê²° ë°©ì•ˆ**: pytest -x (ì²« ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨), ë³‘ë ¬ ì‹¤í–‰ ê²€í† 
2. **Phase 3 ìŠ¤íƒ ê°€ë™** - Docker Compose ì „ì²´ ìŠ¤íƒ í•„ìš”
   - **í•´ê²° ë°©ì•ˆ**: `make up-p3` ëª…ë ¹ìœ¼ë¡œ ê°„í¸ ê°€ë™
3. **CHANGELOG ì‘ì„± ë³µì¡ë„** - ë³€ê²½ì‚¬í•­ ì¶”ì  ì–´ë ¤ì›€
   - **í•´ê²° ë°©ì•ˆ**: Issue #26 ë¬¸ì„œ(`ri_13.md`) ì°¸ì¡°, PR #27 diff í™•ì¸

### Rollback Plan

**ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤**:
- **íƒœê·¸ ìƒì„± ì˜¤ë¥˜** â†’ `git tag -d v1.5.0 && git push origin :refs/tags/v1.5.0`
- **Release Notes ì˜¤ë¥˜** â†’ `gh release edit v1.5.0` ìˆ˜ì •
- **í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨** â†’ ìˆ˜ì • í›„ ì¬ì‹¤í–‰, í•„ìš” ì‹œ ë¦´ë¦¬ìŠ¤ ì—°ê¸°

---

## Resource Requirements

### Human Resources
- **ê°œë°œì**: 1ëª… (ë¦´ë¦¬ìŠ¤ ë‹´ë‹¹ì)
- **ë¦¬ë·°ì–´**: 1ëª… (ì„ íƒì , CHANGELOG ê²€í† )
- **QA**: ì—†ìŒ (ìë™í™”ëœ í…ŒìŠ¤íŠ¸)

### Technical Resources
- **ê°œë°œ ë„êµ¬**: git, gh CLI, pytest, docker-compose
- **í…ŒìŠ¤íŠ¸ í™˜ê²½**: Phase 3 Docker stack (localhost:8000-8020)
- **ëª¨ë‹ˆí„°ë§**: pytest ì¶œë ¥, curl í—¬ìŠ¤ì²´í¬

### Time Estimation
- **Phase 0**: 30ë¶„ (ì‚¬ì „ ì¡°ê±´ ê²€ì¦)
- **Phase 1**: 60-90ë¶„ (í…ŒìŠ¤íŠ¸ ì‹¤í–‰)
- **Phase 2**: 60ë¶„ (CHANGELOG ì‘ì„±)
- **Phase 3**: 30-60ë¶„ (Git íƒœê·¸/Release)
- **ì´ ì˜ˆìƒ ì‹œê°„**: 3-4ì‹œê°„
- **ë²„í¼ ì‹œê°„**: 1ì‹œê°„ (ì˜ˆìƒì˜ 25%)
- **ì™„ë£Œ ëª©í‘œì¼**: 2025-10-20 (ë‹¹ì¼)

---

## Quality Assurance Plan

### Test Strategy

**í…ŒìŠ¤íŠ¸ ë ˆë²¨**:
- **Unit Tests**: 144ê°œ Python í…ŒìŠ¤íŠ¸ (pytest)
- **Integration Tests**: ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° 8ê°œ, RBAC 10ê°œ
- **E2E Tests**: 22ê°œ Playwright í…ŒìŠ¤íŠ¸ (ì„ íƒì )
- **Manual Tests**: ìŠ¹ì¸ CLI ëŒ€í™”í˜• í…ŒìŠ¤íŠ¸

### Test Cases

```gherkin
Feature: Approval Workflow UX Integration (Issue #26)

  Scenario: ì‚¬ìš©ìê°€ HIGH ë“±ê¸‰ ë„êµ¬ ì‹¤í–‰ ì‹œ ìŠ¹ì¸ ëŒ€ê¸°
    Given MCP ì„œë²„ê°€ APPROVAL_WORKFLOW_ENABLED=trueë¡œ ê°€ë™ ì¤‘
    When ì‚¬ìš©ìê°€ `ai --mcp execute_bash --mcp-args '{"command": "ls"}'` ì‹¤í–‰
    Then CLIì— Rich ì§„í–‰ë¥  ë°” í‘œì‹œ
    And 1ì´ˆ ê°„ê²©ìœ¼ë¡œ ìŠ¹ì¸ ìƒíƒœ í´ë§
    And ê´€ë¦¬ì ìŠ¹ì¸ í›„ ìë™ìœ¼ë¡œ ë„êµ¬ ì‹¤í–‰ ì™„ë£Œ

  Scenario: ìŠ¹ì¸ ê´€ë¦¬ìê°€ ëŒ€ê¸° ëª©ë¡ ì¡°íšŒ
    Given ìŠ¹ì¸ ëŒ€ê¸° ìš”ì²­ 3ê±´ ì¡´ì¬
    When ê´€ë¦¬ìê°€ `python3 scripts/approval_cli.py` ì‹¤í–‰
    Then Rich TUIì— 3ê±´ ëª©ë¡ í‘œì‹œ
    And Short ID, ì‚¬ìš©ì, ë„êµ¬ëª…, ë§Œë£Œ ì¹´ìš´íŠ¸ë‹¤ìš´ í‘œì‹œ

  Scenario: pytest ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    Given Phase 3 ìŠ¤íƒ ê°€ë™ ì™„ë£Œ
    When `pytest -q` ì‹¤í–‰
    Then 144 passed, 0 failed í™•ì¸
    And ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ 8ê°œ í¬í•¨
```

### Performance Criteria

**ì´ë¯¸ ë‹¬ì„±ëœ ì„±ëŠ¥ ê¸°ì¤€** (Phase 5 ë²¤ì¹˜ë§ˆí¬):
- âœ… **ì²˜ë¦¬ëŸ‰**: 50 RPS (ëª©í‘œ 10 RPSì˜ 5ë°°)
- âœ… **ë ˆì´í„´ì‹œ**: P95 397ms (ëª©í‘œ 500ms ëŒ€ë¹„ 20% ê°œì„ )
- âœ… **ì•ˆì •ì„±**: ì„±ê³µë¥  100% (ëª©í‘œ 99% ì´ˆê³¼)

---

## Communication Plan

### Status Updates
- **ì´ìŠˆ ëŒ“ê¸€ ì—…ë°ì´íŠ¸**: ê° Phase ì™„ë£Œ ì‹œ ì²´í¬ë°•ìŠ¤ ì—…ë°ì´íŠ¸
- **ì»¤ë°‹ ë©”ì‹œì§€**: ê° Phase ì‘ì—… ì™„ë£Œ í›„ ì»¤ë°‹ (ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°˜ì˜)

### Stakeholder Notification
- **í”„ë¡œì íŠ¸ ê´€ë¦¬ì**: GitHub Release ìƒì„± í›„ ì•Œë¦¼
- **ì‚¬ìš©ì**: Release Notesë¥¼ í†µí•œ ë³€ê²½ì‚¬í•­ ê³µìœ 

---

## ğŸ“‹ Acceptance Criteria (DoD)

### Phase 0: ìŠ¹ì¸ UX ì‚¬ì „ ì¡°ê±´ ê²€ì¦
- [x] `rbac_middleware.py`ê°€ ìŠ¹ì¸ ëŒ€ê¸° ì‹œ ì¦‰ì‹œ 403 ë°˜í™˜ (Issue #26 ì™„ë£Œ)
- [x] 403 ì‘ë‹µ JSONì— `approval_required`, `request_id`, `detail` í¬í•¨ (Issue #26 ì™„ë£Œ)
- [x] `scripts/ai.py` ì§„í–‰ë¥ /íƒ€ì„ì•„ì›ƒ UX ì •ìƒ ë™ì‘ (Rich ê¸°ë°˜) (Issue #26 ì™„ë£Œ)
- [x] ìŠ¹ì¸ ì™„ë£Œ ì‹œ ìë™ ì¬ì‹œë„ ë° ì„±ê³µ/ê±°ë¶€ ë©”ì‹œì§€ í™•ì¸ (Issue #26 ì™„ë£Œ)
- [x] ê¸°ì¡´ ìŠ¹ì¸ ê´€ë ¨ ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ íšŒê·€ ì—†ìŒ (Issue #26 ì™„ë£Œ)

### Phase 1: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° íšŒê·€ ê²€ì¦
- [ ] `pytest -q` ì‹¤í–‰ ê²°ê³¼ 0 failed
- [ ] API Gateway í—¬ìŠ¤ì²´í¬ í†µê³¼ (HTTP 200)
- [ ] RAG ì„œë¹„ìŠ¤ í—¬ìŠ¤ì²´í¬ í†µê³¼ (HTTP 200)
- [ ] MCP ì„œë²„ í—¬ìŠ¤ì²´í¬ í†µê³¼ (HTTP 200)
- [ ] ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° CLI ìˆ˜ë™ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì´ì „ ê¸°ëŠ¥ íšŒê·€ ì—†ìŒ í™•ì¸

### Phase 2: ë¬¸ì„œí™” ë° CHANGELOG ì—…ë°ì´íŠ¸
- [ ] CHANGELOG.mdì— Issue #26 ì™„ë£Œ ë‚´ìš© ì¶”ê°€
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ ìˆ˜ëŸ‰ ê¸°ë¡ (144ê°œ Python + 22ê°œ E2E)
- [ ] ì£¼ìš” ë³€ê²½ì‚¬í•­ 5ê°€ì§€ ì´ìƒ ì‘ì„±
- [ ] Breaking Changes ì„¹ì…˜ í™•ì¸ (ì—†ìœ¼ë©´ ëª…ì‹œ)
- [ ] ì‹ ê·œ ì˜ì¡´ì„± ê¸°ë¡ (Rich library)
- [ ] CLAUDE.md ì—…ë°ì´íŠ¸ (Issue #26 ì™„ë£Œ ë°˜ì˜)
- [ ] README.md ë™ê¸°í™” í™•ì¸

### Phase 3: ë¦´ë¦¬ìŠ¤ ì¤€ë¹„
- [ ] ë²„ì „ ë²ˆí˜¸ ê²°ì • (v1.5.0)
- [ ] Git annotated tag ìƒì„± (`git tag -a v1.5.0`)
- [ ] Git tag push (`git push origin v1.5.0`)
- [ ] GitHub Release Notes ì‘ì„± (CHANGELOG ê¸°ë°˜)
- [ ] GitHub Release ìƒì„± (Draft â†’ Published)

---

## ğŸš€ Next Steps

### ğŸ¯ ì‘ì—… ìˆœì„œ (ìš°ì„ ìˆœìœ„ ëª…ì‹œ)

#### **STEP 1: Phase 0 ì‹¤í–‰** (30ë¶„)
```bash
# ì½”ë“œ ê²€ì¦
grep -n "approval_required" services/mcp-server/rbac_middleware.py
grep -n "handle_approval_workflow" scripts/ai.py

# ìŠ¹ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest services/mcp-server/tests/test_approval_workflow.py -v
```

#### **STEP 2: Phase 1 ì‹¤í–‰** (60-90ë¶„)
```bash
# Phase 3 ìŠ¤íƒ ê°€ë™
docker compose -f docker/compose.p3.yml up -d

# ì „ì²´ í…ŒìŠ¤íŠ¸
pytest -q

# í—¬ìŠ¤ì²´í¬
curl -f http://localhost:8000/health
curl -f http://localhost:8002/health
curl -f http://localhost:8020/health
```

#### **â­ STEP 3: Phase 2 ì‹¤í–‰ (ìš°ì„ ìˆœìœ„ ìµœê³ )** (75ë¶„)
**ì¤‘ìš”**: ì´ ë‹¨ê³„ì—ì„œ ë°˜ë“œì‹œ ë‹¤ìŒ ìˆœì„œë¡œ ì§„í–‰í•©ë‹ˆë‹¤:

**3-1. `docs/progress/v1/ri_1.md` ì •í•©ì„± ë³´ì • (25ë¶„) - ë¨¼ì € ì‹¤í–‰**
```bash
# ë‹¤ìŒ 4ê°œ í•­ëª©ì„ ri_1.mdì—ì„œ ìˆ˜ì •:
# 1. ri_1.md:3 - "resolve-issue 1" ì•ˆë‚´ ì œê±° â†’ scripts/ai.py ì‚¬ìš© ì˜ˆì‹œë¡œ ëŒ€ì²´
# 2. ri_1.md:69 - Missing Files â†’ "í•„ìˆ˜ íŒŒì¼ ëª©ë¡"ìœ¼ë¡œ ë³€ê²½
# 3. ri_1.md:119 - ë””ë ‰í„°ë¦¬ ìƒì„± ì§€ì‹œ ì œê±° â†’ íŒŒì¼ ê²€í† Â·ìˆ˜ì • ì ˆì°¨ë¡œ êµì²´
# 4. ri_1.md:253 - Compose ì˜ˆì‹œ ì‚­ì œ â†’ "ê¸°ì¡´ docker/compose.p1.ymlì„ ê¸°ì¤€ìœ¼ë¡œ ì¡°ì •"ìœ¼ë¡œ êµì²´

# ê²€ì¦
grep -n "resolve-issue 1" docs/progress/v1/ri_1.md  # ì—†ì–´ì•¼ í•¨
grep -n "scripts/ai.py\|scripts/approval_cli.py" docs/progress/v1/ri_1.md  # ìˆì–´ì•¼ í•¨
```

**3-2. CHANGELOG.md ì‘ì„± (35ë¶„) - ri_1.md ìˆ˜ì • í›„ ì‹¤í–‰**
```bash
# CHANGELOG.md ìƒì„± ë° v1.5.0 ì„¹ì…˜ ì‘ì„±
# - Added: 5ê°œ ì´ìƒ í•­ëª©
# - Changed: 3ê°œ ì´ìƒ í•­ëª©
# - Fixed: Documentation í•­ëª© (ri_1.md ì •í•©ì„± ë³´ì • í¬í•¨)
# - Performance, Testing, Documentation ì„¹ì…˜ í¬í•¨
vim CHANGELOG.md
```

**3-3. í”„ë¡œì íŠ¸ ë¬¸ì„œ ë™ê¸°í™” (15ë¶„) - CHANGELOG ì™„ë£Œ í›„ ì‹¤í–‰**
```bash
# CLAUDE.md ì—…ë°ì´íŠ¸
vim CLAUDE.md

# README.md ë™ê¸°í™” í™•ì¸ (í•„ìš” ì‹œ)
vim README.md
```

#### **STEP 4: Phase 3 ì‹¤í–‰** (30-60ë¶„)
```bash
# Git íƒœê·¸ ìƒì„±
git tag -a v1.5.0 -m "Release v1.5.0 - Approval Workflow UX

Phase 2 ì—ì„œ ri_1.md ì •í•©ì„± ë³´ì • í¬í•¨"
git push origin v1.5.0

# GitHub Release ìƒì„±
gh release create v1.5.0 --draft
```

---

### ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **Phase 0 ì™„ë£Œ**: ìŠ¹ì¸ UX ì‚¬ì „ ì¡°ê±´ ê²€ì¦ âœ…
- [ ] **Phase 1 ì™„ë£Œ**: 144ê°œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰, íšŒê·€ ê²€ì¦ âœ…
- [ ] **â­ Phase 2-1 ì™„ë£Œ**: `docs/progress/v1/ri_1.md` ì •í•©ì„± ë³´ì •
  - [ ] ri_1.md:3 ìˆ˜ì • (`resolve-issue 1` ì œê±°)
  - [ ] ri_1.md:69 ìˆ˜ì • (Missing Files â†’ í•„ìˆ˜ íŒŒì¼ ëª©ë¡)
  - [ ] ri_1.md:119 ìˆ˜ì • (ë””ë ‰í„°ë¦¬ ìƒì„± ì œê±°)
  - [ ] ri_1.md:253 ìˆ˜ì • (Compose ì˜ˆì‹œ â†’ ì¡°ì • ê°€ì´ë“œ)
- [ ] **Phase 2-2 ì™„ë£Œ**: CHANGELOG.md ì‘ì„± (ri_1.md ë³´ì • í•­ëª© í¬í•¨)
- [ ] **Phase 2-3 ì™„ë£Œ**: CLAUDE.md, README.md ë™ê¸°í™”
- [ ] **Phase 3 ì™„ë£Œ**: Git íƒœê·¸ ë° GitHub Release ìƒì„±

---

## ğŸ“ ì°¸ê³  ë¬¸ì„œ

- **Issue #26 êµ¬í˜„ ê³„íš**: `docs/progress/v1/ri_13.md`
- **ìŠ¹ì¸ ì •ì±… ë¬¸ì„œ**: `docs/security/APPROVAL_POLICY.md`
- **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬**: `docs/benchmarks/approval_workflow_phase5.md`
- **PR #27 Diff**: `gh pr view 27 --json files`
- **í…ŒìŠ¤íŠ¸ ìˆ˜ëŸ‰ ë³´ê³ ì„œ**: `docs/test_count_report.json`

---

## ğŸ’¡ êµ¬í˜„ ì°¸ê³  ì‚¬í•­

### CHANGELOG.md í˜•ì‹
- [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) í‘œì¤€ ì¤€ìˆ˜
- Semantic Versioning 2.0.0 ì ìš©
- Added/Changed/Fixed/Performance/Testing/Documentation ì„¹ì…˜ êµ¬ë¶„

### GitHub Release Notes ì‘ì„± íŒ
- Highlights: ì£¼ìš” ê¸°ëŠ¥ 3-5ê°œ ê°„ëµ ìš”ì•½
- What's Changed: CHANGELOG ë‚´ìš© ìš”ì•½
- Installation: ì‹ ê·œ ì„¤ì¹˜ ë° ì—…ê·¸ë ˆì´ë“œ ê°€ì´ë“œ
- Configuration: ì£¼ìš” í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
- Known Issues: ì•Œë ¤ì§„ ë¬¸ì œ (ì—†ìœ¼ë©´ "None")

### Git Tag ê·œì¹™
- Annotated tag ì‚¬ìš© (`-a` í”Œë˜ê·¸)
- ë©”ì‹œì§€ì— ì£¼ìš” ë³€ê²½ì‚¬í•­ í¬í•¨
- Semantic Versioning: MAJOR.MINOR.PATCH
  - MAJOR: Breaking changes
  - MINOR: Feature additions (â† v1.5.0)
  - PATCH: Bug fixes

---

**ë.**
