# ========== Service Ports ==========
HOST=0.0.0.0
API_GATEWAY_PORT=8000
INFERENCE_PORT=8001
RAG_PORT=8002
EMBEDDING_PORT=8003
MCP_PORT=8020

# ========== Model Configuration ==========
# Phase 2: 3B Chat + 7B Code (RTX 4050 6GB optimized)
CHAT_MODEL=Qwen2.5-3B-Instruct-Q4_K_M.gguf
CODE_MODEL=qwen2.5-coder-7b-instruct-q4_k_m.gguf

# Phase 3: 7B Chat + 7B Code (recommended 8GB+ VRAM)
# CHAT_MODEL=Qwen2.5-7B-Instruct-Q4_K_M.gguf
# CODE_MODEL=qwen2.5-coder-7b-instruct-q4_k_m.gguf

# Model paths
MODELS_DIR=/mnt/e/ai-models
DATA_DIR=/mnt/e/ai-data

# ========== RAG Configuration ==========
QDRANT_URL=http://qdrant:6333
EMBEDDING_URL=http://embedding:8003
EMBEDDING_MODEL=BAAI/bge-small-en-v1.5

# RAG LLM Settings
RAG_LLM_TIMEOUT=120
RAG_LLM_MAX_TOKENS=256
RAG_LLM_TEMPERATURE=0.3

# RAG Search & Indexing
RAG_TOPK=4
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=100

# API Gateway Model Names (for RAG service)
API_GATEWAY_CHAT_MODEL=chat-7b
API_GATEWAY_CODE_MODEL=code-7b
API_GATEWAY_URL=http://api-gateway:8000

# ========== Timeout Configuration ==========
# LLM Request Timeouts
LLM_REQUEST_TIMEOUT=60           # General LLM API call timeout (seconds)
LLM_CONNECT_TIMEOUT=10           # LLM connection timeout (seconds)

# Service-specific Timeouts
QDRANT_TIMEOUT=30                # Qdrant query timeout (seconds)
EMBEDDING_TIMEOUT=30             # Embedding generation timeout (seconds)

# ========== Retry Configuration ==========
# Qdrant Retry Settings (for RAG service)
QDRANT_MAX_RETRIES=3             # Number of retry attempts
QDRANT_RETRY_MIN_WAIT=2          # Minimum wait time between retries (seconds)
QDRANT_RETRY_MAX_WAIT=10         # Maximum wait time between retries (seconds)

# ========== Llama.cpp Parameters ==========
# GPU Layer Configuration (Phase 2 specific)
CHAT_N_GPU_LAYERS=999            # Chat model: all layers on GPU (3B model)
CODE_N_GPU_LAYERS=20             # Code model: partial GPU, rest on CPU (7B model)

# General Llama.cpp Settings
LLAMA_N_GPU_LAYERS=999           # GPU layers (999=auto-max, for Phase 1/3)
LLAMA_PARALLEL=1                 # Parallel requests
LLAMA_TEMP=0.3                   # Temperature
LLAMA_TOP_P=0.9                  # Top-p sampling
LLAMA_REPEAT_PENALTY=1.05        # Repeat penalty

# ========== Security & RBAC (Issue #8) ==========
RBAC_ENABLED=false
SECURITY_DB_PATH=/mnt/e/ai-data/sqlite/security.db
SECURITY_QUEUE_SIZE=1000
SECURITY_LOG_LEVEL=INFO
SECURITY_MODE=normal
SANDBOX_ENABLED=true
RATE_LIMIT_ENABLED=true
APPROVAL_WORKFLOW_ENABLED=false